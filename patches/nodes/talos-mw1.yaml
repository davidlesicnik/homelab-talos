machine:
  network:
    interfaces:
      - interface: eth0
        dhcp: false
        addresses:
          - 192.168.10.40/24
        routes:
          - network: 0.0.0.0/0
            gateway: "192.168.10.1"
    nameservers:
      - 192.168.10.25
    hostname: talos-mw1
  install:
    extraKernelArgs:
      - "net.ifnames=0"
  nodeLabels:
    "node.kubernetes.io/exclude-from-external-load-balancers":
      $patch: delete
  kubelet:
    extraArgs:
      rotate-server-certificates: true
    extraMounts:
      - destination: /var/lib/longhorn
        type: bind
        source: /var/lib/longhorn
        options:
          - bind
          - rshared
          - rw
  sysctls:
    fs.inotify.max_user_instances: "8192"
    fs.inotify.max_user_watches: "524288"